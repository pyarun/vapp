{% extends "base.html" %}
{% block body %}

<div class="container">
  <div class="row">
    <div class="col-xs-4 col-xs-offset-4 centered">
      <h3>Vapp</h3>
      
      {{config.DEBUG}}
     
        <span id="signinButton">
          <span
            class="g-signin"
            data-callback="signinCallback"
            data-clientid="660843152656-p2qam1flu00a0gdgf1eni9gqu2r8hugm.apps.googleusercontent.com"
            data-cookiepolicy="single_host_origin"
            data-requestvisibleactions="http://schemas.google.com/AddActivity"
            data-scope="https://www.googleapis.com/auth/plus.login https://www.googleapis.com/auth/userinfo.email"
            data- width='wide'>
          </span>
        </span>
              
    </div>
  </div>
</div>


{% endblock body %}

{% block js %}
<script src="{{ url_for('static', filename='bower_components/jquery/dist/jquery.min.js') }}"></script>
<script type="text/javascript">
  (function() {
   var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true;
   po.src = 'https://apis.google.com/js/client:plusone.js?output=embed';
   var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s);
 })();
 
 function signinCallback(authResult){
   console.log(authResult);
   if(authResult['status']['signed_in']){
    $.ajax("/", {
      type: "POST",
      data:JSON.stringify(authResult),
      contentType:"application/json;charset=utf-8"
    }).success(function(response, status, xhr){
     debugger;  
     
   });
     
   }else{
     console.log
   }
   
 }
 
</script>

{% endblock js %}
